import matplotlib.pyplot as plt
import numpy as np

a1synt_no_compr = [0.53686, 0.52561, 0.54269, 0.53644, 0.53978, 0.5481, 0.5506, 0.55602, 0.5631, 0.56935, 0.56976,
                   0.56976, 0.57101, 0.57934, 0.58642, 0.59683, 0.60392, 0.60933, 0.62349, 0.63307, 0.63973, 0.64515,
                   0.64973, 0.64973, 0.64973, 0.64973, 0.64973, 0.64973, 0.64973, 0.64973]

a2synt_no_compr = [0.55185, 0.54602, 0.56893, 0.60475, 0.63599, 0.65931, 0.67972, 0.69971, 0.71304, 0.72845, 0.72595,
                   0.72595, 0.74844, 0.7626, 0.77384, 0.79134, 0.81133, 0.8284, 0.84048, 0.85464, 0.86839, 0.87172,
                   0.87505, 0.87505, 0.87505, 0.87505, 0.87505, 0.87505, 0.87505, 0.87505]

a3synt_no_compr = [0.60017, 0.59475, 0.62807, 0.70721, 0.7526, 0.78301, 0.81258, 0.83424, 0.85298, 0.87214, 0.87214,
                   0.87214, 0.88213, 0.90087, 0.91837, 0.92711, 0.93753, 0.94419, 0.9521, 0.9571, 0.95918, 0.96043,
                   0.9621, 0.9621, 0.9621, 0.9621, 0.9621, 0.9621, 0.9621, 0.9621]

a4synt_no_compr = [0.64431, 0.63848, 0.69263, 0.81549, 0.86047, 0.88671, 0.90796, 0.92253, 0.93253, 0.94086, 0.94086,
                   0.94086, 0.95252, 0.9571, 0.9596, 0.96293, 0.97209, 0.97334, 0.97543, 0.97751, 0.97834, 0.97918,
                   0.98001, 0.98001, 0.98001, 0.98001, 0.98001, 0.98001, 0.98001, 0.98001]

a4cont512wm49 = [0.63015, 0.6339, 0.65598, 0.75552, 0.80175, 0.8359, 0.86464, 0.8863, 0.90296, 0.91712, 0.91753,
                 0.91753, 0.93128, 0.94627, 0.95627, 0.96335, 0.96751, 0.97293, 0.97668, 0.97834, 0.97918,
                 0.97918, 0.97918, 0.97918, 0.97918, 0.97918, 0.97918, 0.97918, 0.97918, 0.97918]

a4cont256wm49 = [0.58434, 0.58184, 0.61808, 0.67514, 0.7172, 0.74386, 0.77301, 0.79925, 0.81966, 0.83215, 0.83174,
                 0.83174, 0.84881, 0.86922, 0.88297, 0.89296, 0.90629, 0.91878, 0.92878, 0.93669, 0.94377, 0.94711,
                 0.95044, 0.95044, 0.95044, 0.95044, 0.95044, 0.95044, 0.95044, 0.95044]

a4cont1024wm65 = [0.62462, 0.63006, 0.68142, 0.7813, 0.8213, 0.84639, 0.86698, 0.88497, 0.89846, 0.9129, 0.91195,
                  0.91195, 0.92639, 0.93515, 0.94391, 0.95101, 0.95716, 0.96284, 0.96828, 0.97349, 0.97538, 0.97657,
                  0.97822, 0.97822, 0.97822, 0.97822, 0.97822, 0.97822, 0.97822, 0.97822]

a4cont1024wm81 = [0.59488, 0.60707, 0.64182, 0.7284, 0.76528, 0.78784, 0.81085, 0.83097, 0.84774, 0.86145, 0.86039,
                  0.86039, 0.88188, 0.89956, 0.91312, 0.92654, 0.93797, 0.9465, 0.95656, 0.96144, 0.96647, 0.96769,
                  0.96921, 0.96921, 0.96921, 0.96921, 0.96921, 0.96921, 0.96921, 0.96921]

a4cont1024wm49sh10 = [0.74552, 0.79092, 0.84631, 0.93794, 0.96501, 0.97251, 0.98042, 0.98584, 0.98959, 0.99209, 0.99209,
                      0.99209, 0.99542, 0.99667, 0.99792, 0.99875, 0.99917, 0.99958, 0.99958, 0.99958, 0.99958, 0.99958,
                      0.99958, 0.99958, 0.99958, 0.99958, 0.99958, 0.99958, 0.99958, 0.99958]

a4cont1024wm49sh40 = [0.75135, 0.80175, 0.86589, 0.93045, 0.95252, 0.9646, 0.97543, 0.98376, 0.98917, 0.99125, 0.99125,
                      0.99125, 0.99542, 0.99625, 0.99792, 0.99917, 0.99917, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                      1.0, 1.0, 1.0, 1.0]

a1synt_no_compr_new = [0.58726, 0.58017, 0.58892, 0.61808, 0.63224, 0.65181, 0.66389, 0.66805, 0.67888, 0.69263, 0.6893,
                       0.6893, 0.71179, 0.72636, 0.73844, 0.74802, 0.76385, 0.78884, 0.80383, 0.81799, 0.82965, 0.83174,
                       0.83632, 0.83632, 0.83632, 0.83632, 0.83632, 0.83632, 0.83632, 0.83632]

a2synt_no_compr_new = [0.60933, 0.6389, 0.67805, 0.74386, 0.78426, 0.8055, 0.82799, 0.8434, 0.85881, 0.86756, 0.86714,
                       0.86714, 0.89213, 0.90879, 0.92253, 0.93794, 0.95044, 0.9596, 0.96793, 0.97501, 0.97959, 0.98084,
                       0.98292, 0.98292, 0.98292, 0.98292, 0.98292, 0.98292, 0.98292, 0.98292]

a3synt_no_compr_new = [0.68596, 0.7297, 0.78217, 0.87047, 0.90004, 0.9142, 0.93211, 0.94086, 0.9546, 0.96085, 0.9596,
                       0.9596, 0.97001, 0.97918, 0.98501, 0.98959, 0.9925, 0.99625, 0.99667, 0.99875, 0.99917, 0.99917,
                       0.99917, 0.99917, 0.99917, 0.99917, 0.99917, 0.99917, 0.99917, 0.99917]

a4synt_no_compr_new = [0.75427, 0.80342, 0.8713, 0.94586, 0.96543, 0.97459, 0.98042, 0.98626, 0.99084, 0.9925, 0.9925,
                       0.9925, 0.99625, 0.99792, 0.99917, 0.99958, 0.99958, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
                       1.0, 1.0, 1.0, 1.0]

# plt.plot(np.arange(10, 307, 10), a1synt_no_compr_new, label="A = 1")
# plt.plot(np.arange(10, 307, 10), a2synt_no_compr_new, label="A = 2")
# plt.plot(np.arange(10, 307, 10), a3synt_no_compr_new, label="A = 3")
# plt.plot(np.arange(10, 307, 10), a4synt_no_compr_new, label="A = 4")
# # plt.plot(np.arange(10, 307, 10), a4synt_no_compr, label="A = 4")
# plt.xlabel("Номер кадра", fontsize=20)
# plt.ylabel("Вероятность корректного извлечения", fontsize=20)
# plt.title("Синтезированное видео", fontsize=20)
# plt.legend(fontsize=20)
# plt.grid(True)
# plt.show()

x = np.arange(10, 2957, 10)

for vid_name in ["cut_RealBarca120", "IndiDance", "Road"]:
    for ampl in range(3, 4):
        base_filename = f'spector_random_shift_0_ampl{ampl}_{vid_name}mpeg2' \
                        f'-mjpg_alf_0005_vot_sp_final'
        cnt = 0
        st_dict = [0, 2, 5, 9]
        with (open(f'{base_filename}.txt', 'r') as f_vot):
            for line in f_vot:
                s = [float(x.strip()) for x in line[10:].replace("]", "").replace("[", "").replace("\n", "").split(",")]
                plt.plot(x[st_dict[cnt]:len(s) + st_dict[cnt]], s, label=f"Начало извлечения {line[7:9]}")
                cnt += 1
        if vid_name == "cut_RealBarca120":
            plot_name = "RealBarca"
        elif vid_name == "IndiDance":
            plot_name = "LutGaya"
        else:
            plot_name = "Road1"
        plt.title(plot_name + ". Амплитуда=" + str(ampl), fontsize=20)
        plt.legend(fontsize=20)
        plt.xlabel("Номер кадра", fontsize=20)
        plt.ylabel("Вероятность корректного извлечения", fontsize=20)
        plt.xticks(range(0, 331, 30))
        plt.grid(True)
        plt.show()

sh0_orig = [0.80508, 0.83715, 0.90212, 0.96335, 0.98126, 0.98584, 0.98792, 0.99, 0.99042, 0.99167, 0.99209, 0.99209,
            0.99209, 0.99292, 0.99375, 0.995, 0.99708, 0.99792, 0.99833, 0.99833, 0.99833, 0.99875, 0.99875, 0.99875,
            0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875,
            0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875,
            0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99833, 0.99833, 0.99833,
            0.99833, 0.99833, 0.99833, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875,
            0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875,
            0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875, 0.99875,
            0.99875, 0.99875, 0.99875, 0.99875]

sh10_orig = [0.89671, 0.94169, 0.97876, 0.995, 0.99958, 0.99958, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

sh40_orig = [0.92545, 0.95877, 0.98084, 0.99417, 0.99625, 0.99917, 1.0, 1.0, 1.0, 1.0, 0.99958, 0.99958, 0.99958,
             0.99958, 0.99958, 0.99958, 0.99958, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

sh0_btr15 = [0.793, 0.80217, 0.82632, 0.8888, 0.91837, 0.93753, 0.95335, 0.96085, 0.96585, 0.97001, 0.9696, 0.9696,
             0.97376, 0.97668, 0.98001, 0.98292, 0.98376, 0.98626, 0.98917, 0.99209, 0.99417, 0.99584, 0.99625, 0.99625,
             0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625,
             0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625,
             0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99667, 0.99667, 0.99667, 0.99708, 0.99708,
             0.99667, 0.99667, 0.99625, 0.99584, 0.99584, 0.99542, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584,
             0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584,
             0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584, 0.99584,
             0.99584, 0.99584, 0.99584, 0.99584]

sh10_btr15 = [0.86797, 0.89921, 0.91462, 0.94752, 0.9621, 0.97543, 0.98376, 0.98917, 0.99084, 0.99209, 0.99209, 0.99209,
              0.99334, 0.99459, 0.99542, 0.99584, 0.99667, 0.99667, 0.99667, 0.99667, 0.99667, 0.99625, 0.99625,
              0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625,
              0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625,
              0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99625, 0.99667, 0.99667, 0.99667,
              0.99667, 0.99667, 0.99708, 0.9975, 0.9975, 0.99708, 0.99708, 0.99708, 0.9975, 0.9975, 0.99708, 0.99708,
              0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708,
              0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708,
              0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708, 0.99708]

sh40_btr15 = [0.87713, 0.89838, 0.90962, 0.92878, 0.93669, 0.94377, 0.95002, 0.95044, 0.94919, 0.95085, 0.95002,
              0.95002, 0.95335, 0.95627, 0.95793, 0.9621, 0.96543, 0.96668, 0.96835, 0.97043, 0.97085, 0.97126, 0.97168,
              0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168,
              0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97168, 0.97251, 0.97251, 0.97251, 0.97251,
              0.97251, 0.97251, 0.97251, 0.97251, 0.97251, 0.97251, 0.97251, 0.97251, 0.97251, 0.97293, 0.97293,
              0.97376, 0.97459, 0.97501, 0.97668, 0.97793, 0.97793, 0.97876, 0.98001, 0.98001, 0.98042, 0.98126,
              0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209,
              0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209,
              0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209, 0.98209]

sh0_btr5 = [0.66847, 0.65098, 0.62682, 0.66264, 0.67805, 0.69888, 0.72262, 0.73761, 0.75469, 0.75968, 0.76052, 0.76052,
            0.77384, 0.79134, 0.8055, 0.81758, 0.8284, 0.83465, 0.84215, 0.8484, 0.85548, 0.85798, 0.85964, 0.85964,
            0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.85964,
            0.85964, 0.85964, 0.85964, 0.85964, 0.85964, 0.86006, 0.86047, 0.86047, 0.86047, 0.86047, 0.86047, 0.86047,
            0.86047, 0.86047, 0.86047, 0.86047, 0.86047, 0.85923, 0.85964, 0.85923, 0.85881, 0.85964, 0.86297, 0.86381,
            0.86589, 0.86506, 0.86339, 0.86464, 0.86381, 0.86256, 0.86172, 0.86297, 0.86422, 0.86422, 0.86422, 0.86422,
            0.86422, 0.86422, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464,
            0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464, 0.86464,
            0.86464, 0.86464, 0.86464, 0.86464]

sh10_btr5 = [0.73386, 0.71803, 0.70471, 0.72137, 0.73303, 0.74594, 0.76093, 0.77801, 0.78717, 0.7955, 0.79592, 0.79592,
             0.80925, 0.81466, 0.82549, 0.82965, 0.83299, 0.83465, 0.8334, 0.83382, 0.8334, 0.83382, 0.83382, 0.83382,
             0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83382,
             0.83382, 0.83382, 0.83382, 0.83382, 0.83382, 0.83215, 0.83132, 0.83132, 0.83132, 0.83132, 0.83132, 0.83132,
             0.83132, 0.83132, 0.83132, 0.83132, 0.83007, 0.82882, 0.82924, 0.82757, 0.82757, 0.82424, 0.81841, 0.81716,
             0.81716, 0.81674, 0.81674, 0.81591, 0.81299, 0.81299, 0.81466, 0.81674, 0.81424, 0.81424, 0.81424, 0.81424,
             0.81424, 0.81424, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258,
             0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258, 0.81258,
             0.81258, 0.81258, 0.81258, 0.81258]

sh40_btr5 = [0.64848, 0.66306, 0.65639, 0.66222, 0.67055, 0.68097, 0.69638, 0.69638, 0.69888, 0.69804, 0.69804, 0.69804,
             0.70054, 0.70637, 0.70887, 0.71512, 0.71262, 0.71345, 0.71429, 0.71762, 0.72137, 0.72387, 0.72636, 0.72636,
             0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636,
             0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.72636, 0.7272, 0.7272, 0.7272, 0.7272, 0.7272, 0.7272,
             0.7272, 0.7272, 0.7272, 0.7272, 0.72595, 0.72636, 0.7272, 0.72678, 0.72761, 0.73053, 0.73594, 0.74261,
             0.74885, 0.75469, 0.75885, 0.7626, 0.76302, 0.76343, 0.7676, 0.76968, 0.76926, 0.76926, 0.76926, 0.76926,
             0.76926, 0.76926, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968,
             0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968, 0.76968,
             0.76968, 0.76968, 0.76968, 0.76968]

# plt.plot(x[:len(sh0_btr5)], sh0_btr5, label=f"Cдвиг = 0 пикселей")
# plt.plot(x[:len(sh10_btr5)], sh10_btr5, label=f"Cдвиг = 10 пикселей")
# plt.plot(x[:len(sh40_btr5)], sh40_btr5, label=f"Cдвиг = 40 пикселей")
# plt.title("Зависимость от величины сдвига из угла ДПФ. Сжатие с битрейтом 5 Мбит/сек", fontsize=20)
# plt.legend(fontsize=20)
# plt.xlabel("Номер кадра", fontsize=20)
# plt.ylabel("Вероятность корректного извлечения", fontsize=20)
# plt.xticks(range(0, 1007, 100))
# plt.grid(True)
# plt.show()
