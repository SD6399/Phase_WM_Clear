import matplotlib.pyplot as plt
import numpy as np
import cv2

alf01 = [0.8683881715951687, 0.8359017076218243, 0.9496043315285297, 0.9541857559350271, 0.9820907955018742,
         0.9979175343606831, 0.9966680549770929, 0.9958350687213661, 0.9995835068721366, 0.9987505206164098]

alf03 = [0.905039566847147, 0.8646397334443982, 0.9550187421907539, 0.9737609329446064, 0.9754269054560599,
         0.9962515618492295, 0.9975010412328197, 0.994585589337776, 1.0, 0.9979175343606831]

alf0005 = [0.9866722199083715, 0.9991670137442732, 0.9991670137442732, 0.9954185755935027, 0.9991670137442732,
           0.9995835068721366, 0.9979175343606831, 0.9983340274885465, 0.9983340274885465, 0.9983340274885465]

alf005 = [0.9862557267805081, 0.9966680549770929, 0.9987505206164098, 0.9966680549770929, 0.9975010412328197,
          0.9987505206164098, 0.9979175343606831, 0.9920866305705955, 0.9716784673052895, 0.9641815910037485]

alf02 = [0.9808413161182841, 0.9991670137442732, 0.9920866305705955, 0.9970845481049563, 0.9941690962099126,
         0.9970845481049563, 0.9900041649312786, 0.9287796751353603, 0.8763015410245731, 0.8608912952936276]

alf04 = [0.9920866305705955, 0.9995835068721366, 0.9970845481049563, 0.9966680549770929, 0.994585589337776,
         0.9975010412328197, 0.9858392336526447, 0.9283631820074969, 0.8746355685131195, 0.8500624739691796]

# alf001 = [0.5926697209496044, 0.7122032486463973, 0.5755935027072053, 0.5855893377759267, 0.592253227821741,
#           0.7313619325281133, 0.7076218242399, 0.7234485630987089, 0.7842565597667639, 0.760932944606414]

fft = np.fft.ifft2(np.array([[1, 2, 4, 6], [4, 6, 8, 9]]))
ifft = np.fft.fft2(fft)
print(np.array([[1, 2, 4, 6], [4, 6, 8, 9]]))
print(ifft.real)

# plt.plot(alf0001, label="alfa = 0.001")
# plt.plot(alf001, label="alfa = 0.01")
plt.plot(alf0005, label="alfa = 0.005")
plt.plot(alf005, label="alfa = 0.05")
plt.plot(alf02, label="alfa = 0.2")
plt.plot(alf04, label="alfa = 0.4")
# plt.plot(alf05, label="alfa = 0.5")
# plt.plot(alf07, label="alfa = 0.7")
# plt.plot(alf09, label="alfa = 0.9")

plt.xlabel("Номер кадра", fontsize=20)
plt.ylabel("Точность извлечения", fontsize=20)
plt.title("Road", fontsize=20)
plt.legend(fontsize=20)
# plt.show()
psnr_full = 0
for i in range(50):
    image1 = cv2.imread("D:/pythonProject/phase_wm/frames_after_emb/frame%d.png" % i)
    image2 = cv2.imread("D:/pythonProject/phase_wm/frames_orig_video/frame%d.png" % i)

    psnr_full += (cv2.PSNR(image1, image2))

print(psnr_full / 50)

# Для А=1 psnr = 52; для А = 2 psnr = 46 для А=3 psnr = 43
